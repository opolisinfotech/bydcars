<!DOCTYPE html>
<html>
<head>
    <%- include('../elements/header'); %>
</head>
<body class="hold-transition sidebar-mini layout-fixed">
<div class="wrapper">
  <%- include('../elements/navigation'); %>
  <!-- Main Sidebar Container -->
  <aside class="main-sidebar sidebar-dark-primary elevation-4">
    <%- include('../elements/sidebar'); %>
  </aside>
  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-left">
              <li class="breadcrumb-item"><a href="<%=nodeAdminUrl%>/Dashboard">Dashboard</a></li>
              <li class="breadcrumb-item active">Dealers</li>
            </ol>
          </div>
        </div>
      </div><!-- /.container-fluid -->
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="row">
        <div class="col-md-12">
          <!-- general form elements -->
            <div class="card card-primary">
              <div class="card-header">
                <h3 class="card-title">Add Dealers</h3>
              </div>
              <!-- /.card-header -->
              <!-- form start -->
              <form id="dealers" enctype="multipart/form-data" action="<%=nodeAdminUrl%>/dealers/add" method="post" name="dealers">    
                <div class="card-body">
				
				<div class="form-group">
                    <label for="name">Name *</label>
                    <input type="text" class="form-control" id="name" name="name" placeholder="Enter dealer name" required pattern=".*\S+.*">
					<span class="glyphicon glyphicon-lock form-control-feedback"></span>
					<span class="error"><%=errorData.name%> </span>
                </div>
				
				<div class="form-group">
                    <label for="address">Address *</label>
                    <input type="text" class="form-control" id="address" name="address" placeholder="Enter address" required>
					<span class="glyphicon glyphicon-lock form-control-feedback"></span>
					<span class="error"><%=errorData.address%> </span>
                </div>
				  <div class="form-group">
                  <label>State *</label>
                  <select class="form-control select2" style="width: 100%;" name="state" id="state">
                    <option selected="selected" value="">-State-</option>
                    <option value="Andhra Pradesh">Andhra Pradesh</option>
<option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
<option value="Arunachal Pradesh">Arunachal Pradesh</option>
<option value="Assam">Assam</option>
<option value="Bihar">Bihar</option>
<option value="Chandigarh">Chandigarh</option>
<option value="Chhattisgarh">Chhattisgarh</option>
<option value="Dadar and Nagar Haveli">Dadar and Nagar Haveli</option>
<option value="Daman and Diu">Daman and Diu</option>
<option value="Delhi">Delhi</option>
<option value="Lakshadweep">Lakshadweep</option>
<option value="Puducherry">Puducherry</option>
<option value="Goa">Goa</option>
<option value="Gujarat">Gujarat</option>
<option value="Haryana">Haryana</option>
<option value="Himachal Pradesh">Himachal Pradesh</option>
<option value="Jammu and Kashmir">Jammu and Kashmir</option>
<option value="Jharkhand">Jharkhand</option>
<option value="Karnataka">Karnataka</option>
<option value="Kerala">Kerala</option>
<option value="Madhya Pradesh">Madhya Pradesh</option>
<option value="Maharashtra">Maharashtra</option>
<option value="Manipur">Manipur</option>
<option value="Meghalaya">Meghalaya</option>
<option value="Mizoram">Mizoram</option>
<option value="Nagaland">Nagaland</option>
<option value="Odisha">Odisha</option>
<option value="Punjab">Punjab</option>
<option value="Rajasthan">Rajasthan</option>
<option value="Sikkim">Sikkim</option>
<option value="Tamil Nadu">Tamil Nadu</option>
<option value="Telangana">Telangana</option>
<option value="Tripura">Tripura</option>
<option value="Uttar Pradesh">Uttar Pradesh</option>
<option value="Uttarakhand">Uttarakhand</option>
<option value="West Bengal">West Bengal</option>
                  </select>
				  <span class="glyphicon glyphicon-lock form-control-feedback"></span>
				  <span class="error"><%=errorData.state%> </span>
                </div>
				<div class="form-group">
                    <label for="city">City *</label>
                    <input type="text" class="form-control" id="city" name="city" placeholder="Enter city" required pattern=".*\S+.*">
					<span class="glyphicon glyphicon-lock form-control-feedback"></span>
					<span class="error"><%=errorData.city%> </span>
                </div>
				
				<div class="form-group">
                    <label for="phoneno">Phone No *</label>
                    <input type="text" class="form-control" id="phoneno" name="phoneno" placeholder="Enter phone no" required>
					<span class="glyphicon glyphicon-lock form-control-feedback"></span>
					<span class="error"><%=errorData.phoneno%> </span>
                </div>
				
				<div class="form-group">
                    <label for="alter_phoneno">Alternate Phoneno [Optional]</label>
                    <input type="text" class="form-control" id="alter_phoneno" name="alter_phoneno" placeholder="Enter alternate phone no">
					<span class="glyphicon glyphicon-lock form-control-feedback"></span>
					<span class="error"><%=errorData.alter_phoneno%> </span>
                </div>
				
				<div class="form-group">
                    <label for="email">Email *</label>
                    <input type="text" class="form-control" id="email" name="email" placeholder="Enter email" required>
					<span class="glyphicon glyphicon-lock form-control-feedback"></span>
					<span class="error"><%=errorData.email%> </span>
                </div>
                
				<div class="form-group">
                    <label for="email">Alternate Email [Optional]</label>
                    <input type="text" class="form-control" id="alter_email" name="alter_email" placeholder="Enter alternate email">
					<span class="glyphicon glyphicon-lock form-control-feedback"></span>
					<span class="error"><%=errorData.alter_email%> </span>
                </div>
				
                <div class="form-group">
                  <label for="exampleInputFile">Image</label>
                  <div class="input-group">
                    <div class="custom-file">
                      <input type="file" id="imgInp" name="myfile" required />
                    </div>
                  </div>
              </div>
              <div class="form-group">
                  <img id="imgview" src="#" alt=""  width="100" />
              </div>

                </div>
                <!-- /.card-body -->
                <div class="card-footer">
                  <button type="submit" class="btn btn-primary">Submit</button>
				  <button type="submit" class="btn btn-default float-right">Cancel</button>
                </div>
              </form>
            </div>
            <!-- /.card -->
        </div>
        <!-- /.col-->
      </div>
      <!-- ./row -->
    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->
  <%- include('../elements/footer'); %>
</div>
<!-- ./wrapper -->
<%- include('../elements/js'); %>
<script>
// for image
function readURL(input) {
    
   
   // type
  var filename= input.files[0].name;
   var typeesplit = filename.split('.');
  var ext=typeesplit[1];
  
  var validImageTypes = ["jpg", "jpeg", "png","JPG","JPEG","PNG","webp"];
if ($.inArray(ext, validImageTypes)>=0) {
  
 
      if (input.files && input.files[0]) {
    var reader = new FileReader();
    
    reader.onload = function(e) {
      $('#imgview').attr('src', e.target.result);
    }
    
    reader.readAsDataURL(input.files[0]);
  } 
  }
  else{
      alert('Please select a valid image type');
      $('#imgInp').val(''); 
      return false;
  }
  
  
 
}

$("#imgInp").change(function() {
   
    
  readURL(this);
});
</script>
</body>
</html>
